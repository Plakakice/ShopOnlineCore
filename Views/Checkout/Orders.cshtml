@model IEnumerable<ShopOnlineCore.Models.Order>
@{
    ViewData["Title"] = "Danh sách đơn hàng";
}

<div class="page-head_agile_info_w3l">
    <div class="container">
        <h3>Danh sách <span>Đơn hàng</span></h3>
    </div>
</div>

<div class="container" style="margin: 40px auto;">
    <h2>Danh sách đơn hàng</h2>

    @if (!Model.Any())
    {
        <div class="alert alert-info">
            <strong>Chưa có đơn hàng nào!</strong>
        </div>
    }
    else
    {
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Mã đơn</th>
                    <th>Khách hàng</th>
                    <th>Email</th>
                    <th>Địa chỉ</th>
                    <th>Trạng thái</th>
                    <th>Ngày tạo</th>
                    <th>Số sản phẩm</th>
                    <th>Tổng tiền</th>
                </tr>
            </thead>
            <tbody>
            @foreach (var o in Model)
            {
                <tr>
                    <td><strong>#@o.Id</strong></td>
                    <td>@o.CustomerName</td>
                    <td>@o.Email</td>
                    <td>@o.Address</td>
                    <td>
                        @if (o.Status == "Pending")
                        {
                            <span class="badge bg-warning text-dark">Chờ xử lý</span>
                        }
                        else if (o.Status == "Processing")
                        {
                            <span class="badge bg-info">Đang xử lý</span>
                        }
                        else if (o.Status == "Shipped")
                        {
                            <span class="badge bg-primary">Đang giao</span>
                        }
                        else if (o.Status == "Delivered")
                        {
                            <span class="badge bg-success">Đã giao</span>
                        }
                        else if (o.Status == "Cancelled")
                        {
                            <span class="badge bg-danger">Đã hủy</span>
                        }
                        else
                        {
                            <span class="badge bg-secondary">@o.Status</span>
                        }
                    </td>
                    <td>@o.CreatedDate.ToString("dd/MM/yyyy HH:mm")</td>
                    <td>@o.OrderItems.Count sản phẩm</td>
                    <td><strong class="text-danger">@o.Total.ToString("N0") ₫</strong></td>
                </tr>
            }
            </tbody>
        </table>
    }
</div>
