@model ShopOnlineCore.Models.Product

<h2>Th√™m s·∫£n ph·∫©m m·ªõi</h2>

<form asp-action="Create" method="post" enctype="multipart/form-data">
    <div class="form-group mb-3">
        <label for="Name">T√™n</label>
        <input asp-for="Name" class="form-control" />
    </div>

    <div class="form-group mb-3">
        <label for="Category">Danh m·ª•c</label>
        <input asp-for="Category" class="form-control" />
    </div>

    <div class="form-group mb-3">
        <label for="Price">Gi√°</label>
        <input asp-for="Price" class="form-control" />
    </div>

    <div class="form-group mb-3">
        <label for="Description">M√¥ t·∫£</label>
        <textarea asp-for="Description" class="form-control"></textarea>
    </div>

    <!-- Upload nhi·ªÅu ·∫£nh -->
    <div class="form-group mb-3">
        <label for="files">·∫¢nh s·∫£n ph·∫©m (ch·ªçn nhi·ªÅu ·∫£nh)</label>
        <input type="file" id="files" name="files" multiple accept="image/*" class="form-control" />
    </div>

    <!-- Preview ·∫£nh tr∆∞·ªõc khi l∆∞u -->
    <div id="preview" class="d-flex overflow-auto gap-2 mb-3"></div>

    <button type="submit" class="btn btn-success">üíæ L∆∞u</button>
    <a asp-action="Index" class="btn btn-secondary">H·ªßy</a>
</form>

@section Scripts {
    <script>
        // Hi·ªÉn th·ªã preview ·∫£nh khi ch·ªçn
        document.getElementById('files').addEventListener('change', function (event) {
            const preview = document.getElementById('preview');
            preview.innerHTML = ''; // reset ·∫£nh c≈©
            const files = event.target.files;

            if (files.length > 0) {
                for (const file of files) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.style.height = '150px';
                        img.style.objectFit = 'cover';
                        img.classList.add('rounded');
                        preview.appendChild(img);
                    };
                    reader.readAsDataURL(file);
                }
            }
        });
    </script>
}
