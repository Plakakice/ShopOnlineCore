@model ShopOnlineCore.Models.Product

<div class="men-pro-item simpleCart_shelfItem" style="border: 1px solid #e8e8e8; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; width: 100%; height: 100%; background: white;">
    <div class="men-thumb-item" style="position: relative; overflow: hidden; background: #f8f8f8; flex-shrink: 0;">
        <img src="@Url.Content(Model.ImageUrl)" class="pro-image-front img-responsive" alt="@Model.Name" style="width: 100%; height: 250px; object-fit: cover;" />
        <img src="@Url.Content(Model.ImageUrl)" class="pro-image-back img-responsive" alt="@Model.Name" style="width: 100%; height: 250px; object-fit: cover;" />
        <div class="men-cart-pro">
            <div class="inner-men-cart-pro">
                <a href="@Url.Action("Details", "Product", new { id = Model.Id })" class="link-product-add-cart">Xem chi tiết</a>
            </div>
        </div>
        @if (Model.OldPrice.HasValue && Model.OldPrice > Model.Price)
        {
            <span class="product-new-top" style="background: #e74c3c;">Sale</span>
        }
        else
        {
            <span class="product-new-top">New</span>
        }
    </div>
    <div class="item-info-product text-center" style="padding: 20px 15px; flex: 1; display: flex; flex-direction: column; justify-content: space-between;">
        <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
            <h4 style="font-size: 1.05em; margin-bottom: 12px; height: 48px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; line-height: 1.4em;">@Model.Name</h4>
            <div class="info-product-price" style="margin-bottom: 15px;">
                <span class="item_price" style="font-size: 1.3em; font-weight: 700; color: #e74c3c;">@Model.Price.ToString("N0") ₫</span>
                @if (Model.OldPrice.HasValue && Model.OldPrice > Model.Price)
                {
                    <del style="color: #999; margin-left: 10px;">@Model.OldPrice.Value.ToString("N0") ₫</del>
                }
            </div>
        </div>
        
        <a href="@Url.Action("Details", "Product", new { id = Model.Id })" class="btn btn-primary hvr-outline-out" style="width: 100%; max-width: 150px; margin: 0 auto 10px auto;">Chi tiết</a>

        @if (User.IsInRole("Admin"))
        {
            <div class="mt-2" style="display: flex; gap: 8px; justify-content: center;">
                <a href="@Url.Action("Edit", "Product", new { id = Model.Id })" class="btn btn-warning btn-sm" style="flex: 1; max-width: 100px;"><i class="fa fa-edit"></i></a>
                <a href="@Url.Action("Delete", "Product", new { id = Model.Id })" class="btn btn-danger btn-sm" onclick="return confirm('Xóa sản phẩm này?');" style="flex: 1; max-width: 100px;"><i class="fa fa-trash"></i></a>
            </div>
        }
    </div>
</div>
