@model IEnumerable<ShopOnlineCore.Models.Product>

@foreach (var product in Model)
{
    var badgeHtml = "";
    if (product.SalePrice.HasValue && product.SalePrice > product.Price)
    {
        badgeHtml = "<span class=\"product-new-top badge-sale\"></span>";
    }
    else
    {
        badgeHtml = "<span class=\"product-new-top badge-new\"></span>";
    }

    <div class="col-md-3 product-men" data-product-id="@product.Id" style="margin-bottom: 30px; display: flex;">
        <div class="men-pro-item simpleCart_shelfItem" style="border: 1px solid #e8e8e8; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; width: 100%; height: 100%; background: white;">
            <div class="men-thumb-item" style="position: relative; overflow: visible; background: #f8f8f8; flex-shrink: 0;">
                <img src="@Url.Content(product.ImageUrl)" class="pro-image-front img-responsive" alt="@product.Name" style="width: 100%; height: 250px; object-fit: cover;" />
                <img src="@Url.Content(product.ImageUrl)" class="pro-image-back img-responsive" alt="@product.Name" style="width: 100%; height: 250px; object-fit: cover;" />
                <div class="men-cart-pro">
                    <div class="inner-men-cart-pro">
                        <a href="@Url.Action("Details", "Product", new { id = product.Id })" class="link-product-add-cart">Xem chi tiết</a>
                    </div>
                </div>
                @Html.Raw(badgeHtml)
            </div>
            <div class="item-info-product text-center" style="padding: 20px 15px; flex: 1; display: flex; flex-direction: column; justify-content: space-between;">
                <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
                    <h4 style="font-size: 1.05em; margin-bottom: 12px; height: 48px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; line-height: 1.4em;">@product.Name</h4>
                    <div class="info-product-price" style="margin-bottom: 15px;">
                        <span class="item_price" style="font-size: 1.3em; font-weight: 700; color: #e74c3c;">@product.Price.ToString("N0") ₫</span>
                        @if (product.SalePrice.HasValue && product.SalePrice > product.Price)
                        {
                            <del style="color: #999; margin-left: 10px;">@product.SalePrice.Value.ToString("N0") ₫</del>
                        }
                    </div>
                </div>
                <a href="@Url.Action("Details", "Product", new { id = product.Id })" class="btn btn-primary hvr-outline-out" style="width: 100%; max-width: 150px; margin: 0 auto 10px auto;">Chi tiết</a>
            </div>
        </div>
    </div>
}
